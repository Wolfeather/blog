## 什么是代理？

代理(proxy)，通俗的讲，代理就是一个中介，一个桥梁。A与B无法直接通信时，需要C作为中间人，让A与B间接通信。此时的C，就被称为代理。

代理现如今被分成了正向代理和反向代理两类。



## 正向代理

举个🌰：当我没有渠道买演唱会的门票时，这时走来一个黄牛，无奈之下我只能从黄牛手中买高价票。

这件事中，黄牛就当做了官方的正向代理。当客户端(我)无法访问外部资源(买票)时，通过访问代理服务器(找黄牛)，代理服务器(黄牛)能访问到外部资源(买到票)，然后将数据(票)返回给客户端(我)。

对于外部服务器(官方售票处)而言，访问数据的机器(买票的人)是代理服务器(黄牛)，实际上是客户端(我)。

对于外部服务器而言，客户端是透明的。

常见的正向代理：

- 搭梯子翻墙

### 正向代理的用途

1. 访问无法访问的资源。
2. 做缓存，加速访问。
3. 对客户端访问授权，上网进行认证。
4. 当记录用户访问记录，对外隐藏用户信息。



## 反向代理

再举个🌰：当我想喝鲜牛奶时，找不到牛奶厂，就在网上找了某某乳液，在他的官网上订购，然后他通过我的地址，将就近奶厂的牛发发送给我。

这件事中，某某乳液就做了反向代理。

对于客户端而言，外部服务器是透明的。

常用的反向代理： 

- nginx反向代理实现跨域
- webpack-dev-sever反向代理实现本地调试跨域

### 反向代理的用途

1. 保证服务器内网安全，阻止了web攻击。
2. 负载均衡，通过反向代理优化网站的负载。

## 正向代理与反向代理

虽然两种代理的流程都是A通过C访问B，B将数据通过C返回给A。但是有一些细微的区别。

### 区别

正向代理，代理了客户端，服务器端不知道是谁实际发送了请求。

反向代理，代理了服务器端，客户端不知道请求实际发送给了谁。

