

## webpack

### å‰è¨€

webpackä½œä¸ºä¼˜ç§€çš„æ‰“åŒ…å·¥å…·ï¼Œåœ¨vueã€reactç­‰å¼€å‘å·¥å…·çš„è„šæ‰‹æ¶ä¸­å·²ç»é…ç½®å¥½äº†ã€‚ä¹‹å‰åªæ˜¯ç²—ç•¥æŸ¥çœ‹è¿‡ï¼Œè¿‘æœŸé€šè¿‡è§†é¢‘ç³»ç»Ÿå­¦ä¹ äº†ä¸€ä¸‹webpackã€‚åšä¸€ä¸‹å­¦ä¹ æ€»ç»“ğŸ“˜ï¼Œä»¥ä¾¿äºä»¥åçš„æŸ¥æ¼è¡¥ç¼ºã€‚
ğŸ™ğŸ™æœ€ååœ¨æ­¤é¸£è°¢å°šç¡…è°·æä¾›çš„å­¦ä¹ èµ„æ–™ï¼šhttps://www.bilibili.com/video/BV1e7411j7T5

### webpackç®€ä»‹ 

â€‹	[webpack](https://www.webpackjs.com/)


### webpackåŸºæœ¬ä½¿ç”¨



å› ä¸ºåç»­ä¼šç»å¸¸ç”¨åˆ°nodejsä¸­pathåŒ…é‡Œè‡ªå¸¦çš„resolveæ–¹æ³• å»ºè®®åœ¨webpack.config.jsä¸­æ·»åŠ ä¸€ä¸ªresolveæ–¹æ³•ä¾¿äºåç»­ä½¿ç”¨

```js
function resolve(dir) {
  return path.join(__dirname, dir)
  // å½“config.jsåœ¨å­ç›®å½•ä¸‹æ—¶ è¦æ”¹æˆï¼š path.join(__dirname,'..',dir)
}
```



### webpackæ€§èƒ½ä¼˜åŒ–

â€‹	å…ˆåšä¸€ä¸ªæçº²ï¼Œå¦‚æœçœ‹äº†æ€»ç»“è¿˜è®°ä¸èµ·æ¥å†å»çœ‹ç»†èŠ‚ã€‚

#### æçº²

* å¼€å‘ç¯å¢ƒ
  * ä¼˜åŒ–æ‰“åŒ…æ„å»ºé€Ÿåº¦
    * HMR
  * ä¼˜åŒ–ä»£ç è°ƒè¯•é€Ÿåº¦
    * source-map
* ç”Ÿäº§ç¯å¢ƒ
  * ä¼˜åŒ–æ‰“åŒ…æ„å»ºé€Ÿåº¦
    * oneOf
    * babelç¼“å­˜
    * å¤šè¿›ç¨‹æ‰“åŒ…
  * ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½
    * ç¼“å­˜(hash-chunkhask-contenthash)
    * tree shaking
    * code split
    * æ‡’åŠ è½½/é¢„åŠ è½½
    * PWA
    * externals
    * DLL

#### HMR 



#### source-map 



#### oneOf 



#### ç¼“å­˜ 



#### tree shaking 



#### code split 



#### æ‡’åŠ è½½/é¢„åŠ è½½ 



#### PWA 



#### å¤šè¿›ç¨‹æ‰“åŒ… 



#### externals 



#### DLL 

####  

### webpackè¯¦ç»†é…ç½®

#### entry

â€‹	entryï¼Œå…¥å£æ–‡ä»¶ã€‚ä½œä¸ºä¸»å¯¼çš„jsæ–‡ä»¶ï¼Œentryçš„å€¼å¯ä»¥æœ‰ä¸‰ç§å½¢å¼

##### 1.String

å•æ–‡ä»¶å…¥å£ï¼Œå‚æ•°å€¼ä¸ºjsæ–‡ä»¶è·¯å¾„ï¼Œä¾‹å¦‚
```js
entry:'./src/index.js'
```
reactã€vueç­‰SPAæ¡†æ¶éƒ½è¿™æ ·ç”¨ï¼Œä¹Ÿæ˜¯æœ€ä¸»æµçš„ç”¨æ³•ã€‚

##### 2.Array

å¤šæ–‡ä»¶å…¥å£ï¼Œå‚æ•°å€¼ä¸ºjsæ–‡ä»¶è·¯å¾„ç»„æˆçš„æ•°ç»„ï¼Œä¾‹ï¼š
```js
entry:['./src/index.js','./src/asset.js']
```

##### 3.Object

å¯ä»¥å•æ–‡ä»¶å…¥å£ï¼Œä¹Ÿå¯ä»¥å¤šæ–‡ä»¶å…¥å£ ï¼Œä¾‹ï¼š

```js
entry:{
	main:'./src/main.js',
	vendor:['vue','vuex','vue-router']
}
```

#### output

#### resolve-è§£ææ¨¡å—çš„è§„åˆ™
```js
resolve:{
    //åˆ«å/ç®€å†™
    alias:{
        '@': resolve('src'),
        '$css': resolve('src/css')
    },
    //çœç•¥æ–‡ä»¶è·¯å¾„åç¼€å
    //æ³¨æ„ï¼šåŒè·¯å¾„ä¸‹çš„åŒåæ–‡ä»¶ä¸èƒ½éƒ½çœç•¥
    extensions: ['.js',',json'],
    //æ¨¡å—ç›®å½•  é»˜è®¤æ˜¯å½“å‰ç›®å½•çš„node_modules
    // å¦‚æœæ‰¾ä¸åˆ° åˆ™å¾€ä¸Šå±‚æ–‡ä»¶å¤¹æ‰¾node_modules
    modules: [resolve('{ä½ çš„node_modulesè·¯å¾„}')'node_modules']
}
```

#### devServer

```js
devServer:{
    //ä»£ç è¿è¡Œçš„ç›®å½•
}
```



 