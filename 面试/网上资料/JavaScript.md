## 闭包

能够读取其他函数内部变量的函数。

子函数在外部被调用，子函数所在的函数作用域不会被释放。

## 类的创建和继承

> 见《原型与原型链》篇

## 如何解决异步回调地狱

- promise
- generator
- async/ await

## 前端的事件流

HTML与js通过事件驱动来交互。事件流：从页面中接收事件的顺序。如下：

1. 事件捕获阶段 (从父到子，深入)
2. 处于目标阶段
3. 事件冒泡阶段 (从子到父，冒出)

通过`addEventListener(event,function,useCapture) `方法添加事件监听。其中，event为监听的事件名(不加on)，例：`'click'、'mousemove'`；function为触发事件后的回调函数；useCapture(默认false)：true=捕获阶段，false=冒泡阶段。

## 如何让事件先冒泡后捕获

标准的事件模型是先捕获再冒泡。要先冒泡再捕获的话，捕获事件后，暂缓执行，等冒泡事件执行结束后再执行捕获事件。（个人感觉可以用promise来实现）

## 事件委托

事件委托就是指不在事件发生处(dom元素)，而在他的父级元素上设置监听，来处理事件，这样只用设置一个事件就能处理所有子级元素的事件了。通过`event.target`拿到精确的子元素。

🌰：ul设置代理后，ul下的所有li都能触发事件

优点：避免多次操作DOM，减少消耗；能适应动态添加元素的绑定，父元素下新添加的子元素，也能触发事件委托

## 图片的懒加载、预加载

### 懒加载

按需加载图片，当用户要查看时，才请求数据。

原理：先用占位符表示图片，src中不放图片地址(放`javascript:;`)，先放到其他属性(例如`data-original`)中。监听窗口滚动，当图片出现在窗口中，再把真实地址放入src中。

注意：做好节流和防抖处理

### 预加载

提前加载图片，当用户需要查看时，直接从本地缓存渲染。



